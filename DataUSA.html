<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title> Rathi Vinod's Website </title>
  <script src="https://d3plus.org/js/d3plus.v2.0.0-alpha.13.full.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
<style>
#viz {
  background-color: white;
  height: 400px;
  width: 400px;
}
</style>
<link rel="stylesheet" href="style.css"/>
  </head>
  <h1> A day in the life. </h1>
  <body>
This is your website woohoo!
<p id="paragraphone">
  This is a paragraph!
</p>
<div id="viz"></div>
  </body>
</html>

<script>
d3.json("https://api.datausa.io/attrs/geo/", function(error, data) {
console.log(data);
data = d3plus.dataFold(data);
console.log(data);
var nameLookup = data.reduce(function(obj, d) {
  obj[d.id] = d.display_name;
  return obj;
}, {});
console.log(data);
console.log(nameLookup);
});

var myDataArray = [
{id: "green", income: 30},
{id: "yellow", income: 20}
];


var chart = new d3plus.BarChart()
var settings = {
  data: "https://api.datausa.io/api/?show=geo&geo=01000US,04000US25&required=year,income",
  discrete: "y",
  groupBy:"geo",
  label: function(d) {
    return nameLookup[d.geo];
  },
  select: "#viz",
  x: (function(d){
    return d.year;
  }),
  y: function(d){
    return d.income;
  }
};

// var myKeyName = "data";
// settings[myKeyName]=
var arcStyles = {
  fill: function(d) {
    if (d.geo == "01000US") {
      return "orange";
    }
    else {
      return "rebeccapurple";
    }
  }
};
chart
.config(settings)
.shapeConfig(arcStyles)
.render();
// var myNumber = 42;
//       myNumber = myNumber +10;
//       console.log("This is my Number:"+ myNumber + ". It's a great Number");
//       // This is my comment
//             var myArray = [1,2,3,4];
//             var myObject = {
//               name: "Claudia",
//               color: "red"
//             };
//
//  console.log(myObject.name);
//
//  var myNumber= 20;
//  var bigNumber = myNumber > 100;
//  console.log(bigNumber);
 </script>
